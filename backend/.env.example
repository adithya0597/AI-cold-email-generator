# =============================================================================
# JobPilot Backend Environment Variables
# =============================================================================
# Copy this file to .env and fill in the values.
# All variables with defaults can be omitted for local development.

# --- Application ---
APP_ENV=development          # development | staging | production
DEBUG=false

# --- Database (PostgreSQL via SQLAlchemy async + asyncpg) ---
# Use Supabase DIRECT connection (port 5432), NOT the pooler (port 6543).
# asyncpg requires statement_cache_size=0 which is set in engine.py.
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/jobpilot

# --- Supabase (used ONLY for file storage and auth token forwarding) ---
# Get these from: Supabase Dashboard > Settings > API
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your-supabase-anon-key

# --- Redis (Celery broker + cache + pub/sub) ---
# Local: redis://localhost:6379/0
# Railway/Upstash: redis://default:password@host:port
REDIS_URL=redis://localhost:6379/0

# --- Authentication (Clerk) ---
# Get from: Clerk Dashboard > API Keys
# This is your Clerk instance domain, e.g. "your-app.clerk.accounts.dev"
CLERK_DOMAIN=your-app.clerk.accounts.dev

# --- LLM API Keys ---
# At least one is required for content generation to work.
OPENAI_API_KEY=sk-...
ANTHROPIC_API_KEY=sk-ant-...

# --- Observability ---
# Get from: Sentry Dashboard > Settings > Client Keys (DSN)
# Leave empty to disable Sentry in development.
SENTRY_DSN=

# --- Email (Resend) ---
# Get from: Resend Dashboard > API Keys
# Leave empty to disable email sending in development.
RESEND_API_KEY=re_...

# --- Analytics (PostHog) ---
# Get from: PostHog Dashboard > Settings > Project API Key
# Leave empty to disable analytics in development.
POSTHOG_API_KEY=
POSTHOG_HOST=https://us.i.posthog.com

# --- CORS ---
# Comma-separated origins allowed to access the API.
CORS_ORIGINS=http://localhost:3000
